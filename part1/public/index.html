<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Dog Walker World</title>
        <link id="css-file" rel="stylesheet" href="stylesheets/style.css">
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    </head>
    <body>
        <div id="app">
            <!--Header (Title and navbar)-->
            <div id="header">
                <a href="/"><img class="title-img" src="images/logo.gif" alt="Clothes World Title"></a>
                <nav class="nav-bar">
                    <a class="nav-bar-list" href="/">Home</a>
                    <a class="nav-bar-list" href="search.html?q=%23sunglasses">New</a>
                    <a class="nav-bar-list" href="search.html?q=%23mens-shirts">Mens</a>
                    <a class="nav-bar-list" href="search.html?q=%23womens-dresses">Womens</a>
                    <a class="nav-bar-list" onclick="changeCSS()">☼︎/☽︎</a>
                    <a class="nav-bar-login" :href="isLoggedIn ? 'account.html' : 'login.html'">
                        {{ isLoggedIn ? firstName : 'Log In' }}
                    </a>
                    <img class="nav-bar-account-img" v-if="isLoggedIn" :src="user.profile_picture || 'https://static.vecteezy.com/system/resources/previews/009/292/244/non_2x/default-avatar-icon-of-social-media-user-vector.jpg'" src=" " alt="User Icon"/>
                </nav>
            </div>
            <!--Gallery slide-->
            <div id="gallery-slide">
                <img class="gallery-img" src="https://mrwallpaper.com/images/hd/ultrawide-beach-t02blqrzhwnxjf9f.jpg" alt="New season image">
            </div>
            <!--New Items (use Vue to generate items from info in API)-->
            <h2>DOG OF THE DAY</h2>
            <p>look at it</p>
            <div class="items" v-for="({ message, status }, index) in dogOfTheDay">
                <img class="item-img" :src="message" src="https://icons.veryicon.com/png/o/business/new-vision-2/picture-loading-failed-1.png" :alt="title" alt="Clothes"></a>
            </div>
            <!--Footer (Copyright and other info)-->
            <div id="footer">
                <input type="text" placeholder="Search...">
                <br/>
                <p>© Copyright We Are A-holes At Design Inc.</p>
                <p>All rights reserved</p>
                <br/>
            </div>
        </div>
        <!--Vue script-->
        <script>
            // Create Vue app and store as object in vueinst var
            const vueinst = Vue.createApp({
                data() {
                    // Return arrays with products in them
                    return {
                        // Specific to this page
                        dogOfTheDay: ""
                    };
                },
                created() {
                    // When website is loaded, run the fetchDog function
                    this.fetchDog();
                },
                methods: {
                    // Fetch products from DummyJSON
                    async fetchDog() {
                        // Fetch product using some url to DummyJSON and store resulting JSON in res var
                        const res = await fetch("https://dog.ceo/api/breeds/image/random");
                        // Change JSON into JavaScript object and store in data var
                        const data = await res.json();
                        console.log(data);
                        // Set newitem var to products array in data
                        this.dogOfTheDay = data;
                    }
                }
            }).mount("#app"); // Vue usable in part of body inside element with id="app"
        </script>
    </body>
</html>